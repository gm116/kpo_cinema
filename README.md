# Кинотеатр

## Описание
Это приложение представляет собой систему управления кинотеатром. Оно позволяет добавлять и удалять фильмы, управлять сеансами и продавать билеты.

## Как использовать

### 1. **Добавление фильма**
   - Чтобы добавить фильм, создайте новый объект `Movie` и передайте его в функцию `addMovie()`. Например:
     ```kotlin
     val movie = Movie("Название фильма", 120)
     cinema.addMovie(movie)
     ```

### 2. **Удаление фильма**
   - Чтобы удалить фильм, передайте объект `Movie`, который вы хотите удалить, в функцию `removeMovie()`. Например:
     ```kotlin
     cinema.removeMovie(movie)
     ```

### 3. **Просмотр списка фильмов**
   - Чтобы просмотреть список всех фильмов, используйте функцию `listMovies()`. Например:
     ```kotlin
     val movies = cinema.listMovies()
     movies.forEach { println(it.title) }
     ```

### 4. **Добавление сеанса**
   - Чтобы добавить сеанс, создайте новый объект `Session` и передайте его в функцию `addSession()`. Например:
     ```kotlin
     val session = Session(movie, LocalDateTime.now())
     cinema.addSession(session)
     ```

### 5. **Удаление сеанса**
   - Чтобы удалить сеанс, передайте объект `Session`, который вы хотите удалить, в функцию `removeSession()`. Например:
     ```kotlin
     cinema.removeSession(session)
     ```

### 6. **Просмотр списка сеансов**
   - Чтобы просмотреть список всех сеансов, используйте функцию `listSessions()`. Например:
     ```kotlin
     val sessions = cinema.listSessions()
     sessions.forEach { println("${it.movie.title} (${it.startTime})") }
     ```

### 7. **Продажа билетов**
   - Чтобы продать билет на сеанс, передайте объект `Session` и номер места в функцию `sellTicket()`. Например:
     ```kotlin
     cinema.sellTicket(session, 1)
     ```

### 8. **Возврат билетов**
   - Чтобы вернуть билет, передайте объект `Ticket`, который вы хотите вернуть, в функцию `returnTicket()`. Например:
     ```kotlin
     cinema.returnTicket(ticket)
     ```

### 9. **Просмотр списка проданных билетов**
   - Чтобы просмотреть список всех проданных билетов, используйте функцию `listSoldTickets()`. Например:
     ```kotlin
     val soldTickets = cinema.listSoldTickets()
     soldTickets.forEach { println("${it.session.movie.title} (${it.session.startTime}), Место: ${it.seat}") }
     ```

### 10. **Отображение состояния мест для сеанса**
   - Чтобы отобразить состояние мест для сеанса, передайте объект `Session` в функцию `displaySeatsStatus()`. Например:
     ```kotlin
     cinema.displaySeatsStatus(session)
     ```

### 11. **Редактирование фильма или сеанса**
   - Чтобы отредактировать фильм, передайте объект `Movie`, который вы хотите отредактировать, новое название и новую продолжительность в функцию `editMovie()`. Например:
     ```kotlin
     cinema.editMovie(movie, "Новое название", 100)
     ```
   - Чтобы отредактировать сеанс, передайте объект `Session`, который вы хотите отредактировать, и новое время начала в функцию `editSession()`. Например:
     ```kotlin
     cinema.editSession(session, LocalDateTime.now())
     ```

### 12. **Отметка мест как занятых**
   - Чтобы отметить места как занятые, передайте объект `Session` и список мест в функцию `markSeatsOccupied()`. Например:
     ```kotlin
     cinema.markSeatsOccupied(session, listOf(1, 2, 3))
     ```

## Завершение работы
При завершении работы с приложением все данные автоматически сохраняются в CSV-файлы без повторений и перезаписи. При следующем запуске приложения вы можете загрузить эти данные обратно.

## Запуск приложения
Чтобы запустить приложение, выполните функцию `main()`. После запуска вы увидите меню с различными опциями. Введите номер нужной вам опции, чтобы выполнить соответствующую операцию.

## Примечания
- Все даты и время следует вводить в формате дд-ММ-гггг-ЧЧ-мм.
- Все места в зале пронумерованы от 1 до 10.
- При выборе фильма или сеанса для редактирования или удаления, введите номер, который соответствует нужному вам фильму или сеансу в отображаемом списке.
- При продаже билетов, если выбранное место уже занято, вам будет показано соответствующее сообщение.
- При возникновении ошибок при вводе данных, приложение предоставит соответствующие сообщения с подсказками.
- Все изменения в данных (фильмы, сеансы, проданные билеты) сохраняются при выходе из приложения.
- При удалении фильмов будут удалены сеансы

 с билетами, а при удалении сеансов удаляются билеты.

## Подробное описание меню

1. **Добавить фильм**
   - Введите название фильма.
   - Укажите продолжительность фильма в минутах.

2. **Удалить фильм**
   - Введите название фильма для удаления.

3. **Список фильмов**
   - Выводит список всех фильмов.

4. **Добавить сеанс**
   - Выберите фильм из списка.
   - Введите дату и время начала сеанса в формате дд-ММ-гггг-ЧЧ-мм.

5. **Удалить сеанс**
   - Выберите сеанс из списка для удаления.

6. **Список сеансов**
   - Выводит список всех сеансов.

7. **Продать билет на сеанс**
   - Выберите сеанс из списка.
   - Введите номер места.

8. **Вернуть билет**
   - Выводит список проданных билетов с номерами.
   - Выберите номер билета для возврата.

9. **Список проданных билетов**
   - Выводит список всех проданных билетов.

10. **Отобразить состояние мест для сеанса**
    - Выберите сеанс из списка для отображения.

11. **Редактировать фильм или сеанс**
    - Выберите объект для редактирования (фильм или сеанс).
    - Укажите новые параметры.

12. **Отметить места как занятые**
    - Выберите сеанс для отметки мест.
    - Укажите номера мест через запятую.

0. **Выход**
    - Сохраняет данные и завершает выполнение приложения.
